from lxml import html, etree
import requests
from bs4 import BeautifulSoup



urlbase = "https://dr.library.brocku.ca"


#INSERT THE URL OF THE FULL ITEM RECORD OF AN OBJECT HERE
webpageLink = "http://dr.library.brocku.ca/handle/10464/6070?show=full"



page = requests.get(webpageLink)

soup = BeautifulSoup(page.content, 'html.parser')

narrowed = soup.find_all('div', class_='file-link' )

link = []

for narrowed in narrowed:
    link.append(narrowed.find('a')['href'])


file_num = 0

for link in link:
    file_num = file_num + 1
    url = (urlbase + link)
    r = requests.get(url, allow_redirects=True)
    open('file'+ str(file_num), 'wb').write(r.content)



















#bodyonly = soup.find('body')
#print(bodyonly)
#page = requests.get("https://dr.library.brocku.ca/handle/10464/6071")
#print(page.content)
#extractedHtml = html.fromstring(page.content)
#print(extractedHtml)
#Title = extractedHtml.xpath("/html/body/center/h1")
#print(bookTitle[0].text)
